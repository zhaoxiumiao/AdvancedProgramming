# chapter4 变量作用域内存

### 原始值与引用值(值类型和引用类型)
  - 原始值有:`Undefined Null Boolean Number String`
  - 引用值就是: `Object Array`
  - 函数参数接收的值是创建一个局部变量
  - 补充: typeof 可以确定一个变量是不是原始类型,不是原始类型的一律是object或function
  - 使用instanceof 来确定是不是数组是很好的一种方式

### 执行上下文与作用域链
  - 执行上下文可以理解为一个个空间最外层有一个全局上下文包裹，只有应用程序关闭时全局作用域才会销毁，函数形成的上下文在函数执行完毕之后，会连带整个函数中创建的变量销毁掉.
  - 作用域链用来规定整个代码的执行顺序

### 变量声明
  - `var`: var声明变量会挂在最近的作用域上，会变量提升
  - `const`: const 声明变量必须有初始值，并且原始值是不能更改的，但是属性是可以更改的, 如果对象想让其不更改就要用`Object.freeze({})`
  - `let`: let 和const差不多只是let声明的变量是可以改变值的
  - notes: 代码中尽量使用const ，var就没事不要用了

### 标识符查找
  - 如果在局部作用域查找不到，会向下进行搜索一直到全局作用域, 全局作用域搜索完毕就结束搜索

### 垃圾回收
  - 简介:
    - 垃圾回收机制是对内存的管理,用来把不用的内存释放掉。
  - 标记清理(mark-end-sweep)
    - 在垃圾回收机制运行时，所有变量都会打上标记，上下文中的变量和引用的变量去掉标记，剩下的就是可以回收的了
  - 引用计数(reference counting)
    - 所有的值都是被记录引用次数,初始为1，覆盖减一，再赋值加一，到最后为零的就是可以回收的.
    - 但是这个有问题，所以现在主流浏览器都使用标记清理的方式来管理内存
